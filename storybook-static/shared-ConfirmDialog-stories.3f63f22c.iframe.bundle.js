"use strict";(self.webpackChunktokenmilagre_platform=self.webpackChunktokenmilagre_platform||[]).push([[359],{"./components/shared/ConfirmDialog.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomLabels:()=>CustomLabels,DangerDelete:()=>DangerDelete,Default:()=>Default,Info:()=>Info,Interactive:()=>Interactive,KeyboardNavigation:()=>KeyboardNavigation,LongMessage:()=>LongMessage,Warning:()=>Warning,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ConfirmDialog_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/dist/index.js"),free_solid_svg_icons=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs");const ConfirmDialog=(0,react.memo)(({isOpen,title,message,confirmLabel="Confirmar",cancelLabel="Cancelar",onConfirm,onCancel,variant="danger"})=>{const dialogRef=(0,react.useRef)(null),confirmButtonRef=(0,react.useRef)(null),handleEscape=(0,react.useCallback)(event=>{"Escape"===event.key&&onCancel()},[onCancel]);(0,react.useEffect)(()=>(isOpen?(document.addEventListener("keydown",handleEscape),confirmButtonRef.current?.focus(),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",handleEscape),document.body.style.overflow=""}),[isOpen,handleEscape]);const colors=(0,react.useMemo)(()=>{switch(variant){case"danger":default:return{icon:"#ef4444",confirmBg:"#ef4444",confirmHover:"#dc2626"};case"warning":return{icon:"#f59e0b",confirmBg:"#f59e0b",confirmHover:"#d97706"};case"info":return{icon:"#3b82f6",confirmBg:"#3b82f6",confirmHover:"#2563eb"}}},[variant]),handleBackdropClick=(0,react.useCallback)(event=>{event.target===event.currentTarget&&onCancel()},[onCancel]);return isOpen?(0,jsx_runtime.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 animate-fade-in",onClick:handleBackdropClick,role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50","aria-hidden":"true"}),(0,jsx_runtime.jsxs)("div",{ref:dialogRef,className:"relative rounded-2xl shadow-2xl max-w-md w-full p-6 animate-slide-in-bottom",style:{backgroundColor:"var(--bg-elevated)"},children:[(0,jsx_runtime.jsx)("button",{onClick:onCancel,className:"absolute top-4 right-4 opacity-50 hover:opacity-100 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2 rounded","aria-label":"Fechar diálogo",type:"button",children:(0,jsx_runtime.jsx)(dist.gc,{icon:free_solid_svg_icons.Jyw,className:"w-5 h-5",style:{color:"var(--text-primary)"},"aria-hidden":"true"})}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full flex-shrink-0",style:{backgroundColor:colors.icon+"20"},"aria-hidden":"true",children:(0,jsx_runtime.jsx)(dist.gc,{icon:free_solid_svg_icons.zpE,className:"w-6 h-6",style:{color:colors.icon},"aria-hidden":"true"})}),(0,jsx_runtime.jsx)("h2",{id:"dialog-title",className:"title-newtab text-xl",style:{color:"var(--text-primary)"},children:title})]}),(0,jsx_runtime.jsx)("p",{id:"dialog-description",className:"mb-6 text-base",style:{color:"var(--text-secondary)"},children:message}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,jsx_runtime.jsx)("button",{onClick:onCancel,className:"px-6 py-2.5 rounded-lg font-semibold transition-all hover:opacity-80 border focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-medium)",color:"var(--text-primary)"},type:"button",children:cancelLabel}),(0,jsx_runtime.jsx)("button",{ref:confirmButtonRef,onClick:onConfirm,className:"px-6 py-2.5 rounded-lg font-semibold transition-all hover:opacity-90 text-white focus:outline-none focus:ring-2 focus:ring-offset-2",style:{backgroundColor:colors.confirmBg},type:"button",children:confirmLabel})]})]})]}):null});ConfirmDialog.displayName="ConfirmDialog";const shared_ConfirmDialog=ConfirmDialog;ConfirmDialog.__docgenInfo={description:'ConfirmDialog Component\n\nA modal dialog for confirming user actions with customizable variants and labels.\nIncludes backdrop click handling, keyboard shortcuts (ESC to cancel), and focus trap.\n\n@example\n```tsx\n<ConfirmDialog\n isOpen={isOpen}\n title="Delete Item"\n message="Are you sure you want to delete this item? This action cannot be undone."\n confirmLabel="Delete"\n cancelLabel="Cancel"\n variant="danger"\n onConfirm={handleDelete}\n onCancel={handleCancel}\n/>\n```\n\nAccessibility features:\n- ARIA role="alertdialog" for screen readers\n- Focus trap within dialog\n- ESC key to close\n- Clear labeling for actions\n- Backdrop click to close\n- Focus returns to trigger element on close\n\n@param props - Component props\n@returns Confirm dialog component',methods:[],displayName:"ConfirmDialog",props:{confirmLabel:{defaultValue:{value:"'Confirmar'",computed:!1},required:!1},cancelLabel:{defaultValue:{value:"'Cancelar'",computed:!1},required:!1},variant:{defaultValue:{value:"'danger'",computed:!1},required:!1}}};var console=__webpack_require__("./node_modules/console-browserify/index.js");const ConfirmDialog_stories={title:"Components/ConfirmDialog",component:shared_ConfirmDialog,parameters:{layout:"centered",docs:{description:{component:"A modal confirmation dialog for confirming user actions with various severity levels."}}},tags:["autodocs"],argTypes:{isOpen:{control:"boolean",description:"Controls dialog visibility",table:{type:{summary:"boolean"}}},title:{control:"text",description:"Dialog title"},message:{control:"text",description:"Dialog message/description"},confirmLabel:{control:"text",description:"Label for confirm button",table:{defaultValue:{summary:"Confirmar"}}},cancelLabel:{control:"text",description:"Label for cancel button",table:{defaultValue:{summary:"Cancelar"}}},variant:{control:"select",options:["danger","warning","info"],description:"Visual variant of the dialog",table:{type:{summary:"danger | warning | info"},defaultValue:{summary:"danger"}}},onConfirm:{description:"Callback when confirm button is clicked"},onCancel:{description:"Callback when dialog is cancelled or closed"}}},Default={args:{isOpen:!0,title:"Confirmar Ação",message:"Tem certeza que deseja realizar esta ação?",confirmLabel:"Confirmar",cancelLabel:"Cancelar",variant:"danger",onConfirm:()=>console.log("Confirmed"),onCancel:()=>console.log("Cancelled")}},DangerDelete={args:{isOpen:!0,title:"Excluir Item",message:"Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.",confirmLabel:"Excluir",cancelLabel:"Cancelar",variant:"danger",onConfirm:()=>console.log("Item deleted"),onCancel:()=>console.log("Delete cancelled")}},Warning={args:{isOpen:!0,title:"Ação Importante",message:"Esta ação pode afetar outros usuários. Deseja continuar?",confirmLabel:"Continuar",cancelLabel:"Voltar",variant:"warning",onConfirm:()=>console.log("Action confirmed"),onCancel:()=>console.log("Action cancelled")}},Info={args:{isOpen:!0,title:"Confirmar Envio",message:"Deseja enviar este formulário agora?",confirmLabel:"Enviar",cancelLabel:"Revisar",variant:"info",onConfirm:()=>console.log("Form submitted"),onCancel:()=>console.log("Review form")}},LongMessage={args:{isOpen:!0,title:"Termos e Condições",message:"Ao confirmar, você concorda com nossos termos de serviço e política de privacidade. Esta ação irá criar uma nova conta e você receberá um email de confirmação. Seus dados serão processados de acordo com a LGPD.",confirmLabel:"Aceitar",cancelLabel:"Recusar",variant:"info",onConfirm:()=>console.log("Terms accepted"),onCancel:()=>console.log("Terms declined")}},CustomLabels={args:{isOpen:!0,title:"Sair da Aplicação",message:"Você tem alterações não salvas. Deseja sair mesmo assim?",confirmLabel:"Sair sem Salvar",cancelLabel:"Voltar",variant:"warning",onConfirm:()=>console.log("Exiting without saving"),onCancel:()=>console.log("Staying in app")}},Interactive={render:()=>{const[isOpen,setIsOpen]=(0,react.useState)(!1),[variant,setVariant]=(0,react.useState)("danger"),[result,setResult]=(0,react.useState)(""),handleOpen=selectedVariant=>{setVariant(selectedVariant),setIsOpen(!0),setResult("")};return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>handleOpen("danger"),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Show Danger"}),(0,jsx_runtime.jsx)("button",{onClick:()=>handleOpen("warning"),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:"Show Warning"}),(0,jsx_runtime.jsx)("button",{onClick:()=>handleOpen("info"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Show Info"})]}),result&&(0,jsx_runtime.jsxs)("div",{className:"p-4 bg-gray-100 rounded",children:[(0,jsx_runtime.jsx)("strong",{children:"Result:"})," ",result]}),(0,jsx_runtime.jsx)(shared_ConfirmDialog,{isOpen,title:`${variant.charAt(0).toUpperCase()+variant.slice(1)} Dialog`,message:`This is a ${variant} confirmation dialog. Click confirm or cancel to see the result.`,confirmLabel:"Confirm",cancelLabel:"Cancel",variant,onConfirm:()=>{setResult(`Confirmed (${variant})`),setIsOpen(!1)},onCancel:()=>{setResult(`Cancelled (${variant})`),setIsOpen(!1)}})]})}},KeyboardNavigation={render:()=>{const[isOpen,setIsOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,jsx_runtime.jsx)("button",{onClick:()=>setIsOpen(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Open Dialog"}),(0,jsx_runtime.jsxs)("div",{className:"p-4 bg-gray-100 rounded text-sm",children:[(0,jsx_runtime.jsx)("strong",{children:"Keyboard shortcuts:"}),(0,jsx_runtime.jsxs)("ul",{className:"list-disc list-inside mt-2",children:[(0,jsx_runtime.jsx)("li",{children:"Press ESC to close the dialog"}),(0,jsx_runtime.jsx)("li",{children:"Tab to navigate between buttons"}),(0,jsx_runtime.jsx)("li",{children:"Enter to activate focused button"})]})]}),(0,jsx_runtime.jsx)(shared_ConfirmDialog,{isOpen,title:"Keyboard Navigation",message:"Try using ESC to close, or Tab to navigate between buttons.",confirmLabel:"Confirm",cancelLabel:"Cancel",variant:"info",onConfirm:()=>{console.log("Confirmed via keyboard or mouse"),setIsOpen(!1)},onCancel:()=>{console.log("Cancelled via keyboard or mouse"),setIsOpen(!1)}})]})}},__namedExportsOrder=["Default","DangerDelete","Warning","Info","LongMessage","CustomLabels","Interactive","KeyboardNavigation"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Confirmar Ação',\n    message: 'Tem certeza que deseja realizar esta ação?',\n    confirmLabel: 'Confirmar',\n    cancelLabel: 'Cancelar',\n    variant: 'danger',\n    onConfirm: () => console.log('Confirmed'),\n    onCancel: () => console.log('Cancelled')\n  }\n}",...Default.parameters?.docs?.source},description:{story:"Default danger variant for destructive actions",...Default.parameters?.docs?.description}}},DangerDelete.parameters={...DangerDelete.parameters,docs:{...DangerDelete.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Excluir Item',\n    message: 'Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.',\n    confirmLabel: 'Excluir',\n    cancelLabel: 'Cancelar',\n    variant: 'danger',\n    onConfirm: () => console.log('Item deleted'),\n    onCancel: () => console.log('Delete cancelled')\n  }\n}",...DangerDelete.parameters?.docs?.source},description:{story:"Danger variant for destructive actions like deleting items",...DangerDelete.parameters?.docs?.description}}},Warning.parameters={...Warning.parameters,docs:{...Warning.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Ação Importante',\n    message: 'Esta ação pode afetar outros usuários. Deseja continuar?',\n    confirmLabel: 'Continuar',\n    cancelLabel: 'Voltar',\n    variant: 'warning',\n    onConfirm: () => console.log('Action confirmed'),\n    onCancel: () => console.log('Action cancelled')\n  }\n}",...Warning.parameters?.docs?.source},description:{story:"Warning variant for actions with consequences",...Warning.parameters?.docs?.description}}},Info.parameters={...Info.parameters,docs:{...Info.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Confirmar Envio',\n    message: 'Deseja enviar este formulário agora?',\n    confirmLabel: 'Enviar',\n    cancelLabel: 'Revisar',\n    variant: 'info',\n    onConfirm: () => console.log('Form submitted'),\n    onCancel: () => console.log('Review form')\n  }\n}",...Info.parameters?.docs?.source},description:{story:"Info variant for non-critical confirmations",...Info.parameters?.docs?.description}}},LongMessage.parameters={...LongMessage.parameters,docs:{...LongMessage.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Termos e Condições',\n    message: 'Ao confirmar, você concorda com nossos termos de serviço e política de privacidade. Esta ação irá criar uma nova conta e você receberá um email de confirmação. Seus dados serão processados de acordo com a LGPD.',\n    confirmLabel: 'Aceitar',\n    cancelLabel: 'Recusar',\n    variant: 'info',\n    onConfirm: () => console.log('Terms accepted'),\n    onCancel: () => console.log('Terms declined')\n  }\n}",...LongMessage.parameters?.docs?.source},description:{story:"Long message example",...LongMessage.parameters?.docs?.description}}},CustomLabels.parameters={...CustomLabels.parameters,docs:{...CustomLabels.parameters?.docs,source:{originalSource:"{\n  args: {\n    isOpen: true,\n    title: 'Sair da Aplicação',\n    message: 'Você tem alterações não salvas. Deseja sair mesmo assim?',\n    confirmLabel: 'Sair sem Salvar',\n    cancelLabel: 'Voltar',\n    variant: 'warning',\n    onConfirm: () => console.log('Exiting without saving'),\n    onCancel: () => console.log('Staying in app')\n  }\n}",...CustomLabels.parameters?.docs?.source},description:{story:"Custom labels example",...CustomLabels.parameters?.docs?.description}}},Interactive.parameters={...Interactive.parameters,docs:{...Interactive.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [variant, setVariant] = useState<ConfirmDialogVariant>(\'danger\');\n    const [result, setResult] = useState<string>(\'\');\n    const handleOpen = (selectedVariant: ConfirmDialogVariant) => {\n      setVariant(selectedVariant);\n      setIsOpen(true);\n      setResult(\'\');\n    };\n    const handleConfirm = () => {\n      setResult(`Confirmed (${variant})`);\n      setIsOpen(false);\n    };\n    const handleCancel = () => {\n      setResult(`Cancelled (${variant})`);\n      setIsOpen(false);\n    };\n    return <div className="flex flex-col gap-4">\n        <div className="flex gap-2">\n          <button onClick={() => handleOpen(\'danger\')} className="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">\n            Show Danger\n          </button>\n          <button onClick={() => handleOpen(\'warning\')} className="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">\n            Show Warning\n          </button>\n          <button onClick={() => handleOpen(\'info\')} className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">\n            Show Info\n          </button>\n        </div>\n\n        {result && <div className="p-4 bg-gray-100 rounded">\n            <strong>Result:</strong> {result}\n          </div>}\n\n        <ConfirmDialog isOpen={isOpen} title={`${variant.charAt(0).toUpperCase() + variant.slice(1)} Dialog`} message={`This is a ${variant} confirmation dialog. Click confirm or cancel to see the result.`} confirmLabel="Confirm" cancelLabel="Cancel" variant={variant} onConfirm={handleConfirm} onCancel={handleCancel} />\n      </div>;\n  }\n}',...Interactive.parameters?.docs?.source},description:{story:"Interactive example with state management",...Interactive.parameters?.docs?.description}}},KeyboardNavigation.parameters={...KeyboardNavigation.parameters,docs:{...KeyboardNavigation.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [isOpen, setIsOpen] = useState(false);\n    return <div className="flex flex-col gap-4">\n        <button onClick={() => setIsOpen(true)} className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">\n          Open Dialog\n        </button>\n\n        <div className="p-4 bg-gray-100 rounded text-sm">\n          <strong>Keyboard shortcuts:</strong>\n          <ul className="list-disc list-inside mt-2">\n            <li>Press ESC to close the dialog</li>\n            <li>Tab to navigate between buttons</li>\n            <li>Enter to activate focused button</li>\n          </ul>\n        </div>\n\n        <ConfirmDialog isOpen={isOpen} title="Keyboard Navigation" message="Try using ESC to close, or Tab to navigate between buttons." confirmLabel="Confirm" cancelLabel="Cancel" variant="info" onConfirm={() => {\n        console.log(\'Confirmed via keyboard or mouse\');\n        setIsOpen(false);\n      }} onCancel={() => {\n        console.log(\'Cancelled via keyboard or mouse\');\n        setIsOpen(false);\n      }} />\n      </div>;\n  }\n}',...KeyboardNavigation.parameters?.docs?.source},description:{story:"Keyboard navigation example",...KeyboardNavigation.parameters?.docs?.description}}}}}]);